

<!DOCTYPE html public "html5 rocks">
<html>
<head>
  <meta charset="utf-8">
  <title>Animation - Pre Fixes</title>
  <style>
    .mover {
        position: absolute;
        width: 100px;
        height: 100px;
        background: url("http://www.html5rocks.com/en/tutorials/speed/animations/particle.png") center no-repeat;
        left: 90%;

        -webkit-transition: left 1.3s ease-out;
           -moz-transition: left 1.3s ease-out;
            -ms-transition: left 1.3s ease-out;
             -o-transition: left 1.3s ease-out;
                transition: left 1.3s ease-out;

    }

    .mover.left {
        left: 10%;
    }
  </style>
</head>
<body>
  
  <p>Implementation off the demo from  
    <a href="http://www.html5rocks.com/en/tutorials/speed/animations/">Leaner, Meaner, Faster Animations with requestAnimationFrame</a>
  </p>

    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>
    <div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div><div class="mover"></div>

<script src="./frame-events.js"></script>
<script>

    var movers = document.querySelectorAll('.mover');

    /**
     * Set everthing up and position all the DOM elements
     * - normally done with the CSS but, hey, there's 1,500
     * of them so we're doing it here!
     */
    (function init() {
        for(var m = 0; m < movers.length; m++) {
            movers[m].style.top = (m * 10) + 'px';
        }
    })();

    /**
     * Our animation loop - called by rAF
     */
    function update(ev, data) {
        // grab the latest scroll position
        var scrollY             = data.scrollY,
            mover               = null,
            moverTop            = [],
            halfWindowHeight    = window.innerHeight * 0.5,
            offset              = 0;

        // first loop is going to do all
        // the reflows (since we use offsetTop)
        for(var m = 0; m < movers.length; m++) {
            mover       = movers[m];
            moverTop[m] = mover.offsetTop;
        }

        // second loop is going to go through
        // the movers and add the left class
        // to the elements' classlist
        for(var m = 0; m < movers.length; m++) {
            mover       = movers[m];
            if(scrollY > moverTop[m] - halfWindowHeight) {
                mover.classList.add('left');
            } else {
                mover.classList.remove('left');
            }
        }
    }
    
    
    function collectData() {
      return { 
        scrollY: window.scrollY
      };
    }

    FrameEvents.on(window, "scroll", update, collectData);

</script>

</body>
</html>
