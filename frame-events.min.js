!function(a){function b(a,b,c,d){this.element=a,this.eventType=b,this.eventHandler=c,this.dataHandler=d,this.extraData=null,this.element.addEventListener(b,this.frameEvent.bind(this),!1)}b.prototype.frameEvent=function(a){this.dataHandler&&(this.extraData=this.dataHandler.call(this.element,a)),this.eventData=a,d.requestTick()},b.prototype.trigger=function(){this.eventData&&(this.eventHandler.call(this.element,this.eventData,this.extraData),this.eventData=this.extraData=null)},b.prototype.destroy=function(){this.element.removeEventListener(this.eventType,this.frameEvent)};var c=!1,d={events:[],raf:a.requestAnimationFrame,on:function(a,c,d,e){this.events.push(new b(a,c,d,e))},off:function(a,b,c){this.events.forEach(function(d,e){a===d.element&&b===d.eventType&&c===d.eventHandler&&this.events.splice(e,1)}.bind(this))},triggerEvents:function(){this.events.forEach(function(a){a.trigger()}),c=!1},requestTick:function(){c||(c=!0,this.raf.call(a,this.triggerEvents.bind(this)))}};"undefined"!=typeof module&&module.exports?module.exports=d:a.FrameEvents=d}(window);